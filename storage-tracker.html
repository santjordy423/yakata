<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ã‚¿ã‚¹ã‚¯ç²‰ç •æ©Ÿ â€” æ€ æƒ°ãªé›‘ç¨®ã¨ç‹ã®é¤¨</title>

<link href="https://fonts.googleapis.com/css2?family=Zen+Maru+Gothic:wght@400;700;900&family=Yusei+Magic&display=swap" rel="stylesheet">

<style>
* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
  font-family: 'Zen Maru Gothic', sans-serif;
}

body {
  min-height: 100vh;
  background: linear-gradient(-45deg, #0f172a, #1e3a8a, #0f172a, #1e293b);
  background-size: 400% 400%;
  animation: gradientMove 18s ease infinite;
  color: #f1f5f9;
  overflow: hidden;
}

@keyframes gradientMove {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

#app {
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 64px 24px;
  text-align: center;
  max-width: 520px;
  margin: auto;
}

.hidden { display: none; }

.main-title {
  font-family: 'Yusei Magic', sans-serif;
  font-size: 2rem;
  color: #60a5fa;
  margin-bottom: 12px;
  letter-spacing: 0.05em;
}

.subtitle {
  color: #94a3b8;
  margin-bottom: 28px;
}

select {
  width: 100%;
  background: #1e293b;
  border: 2px solid #475569;
  border-radius: 12px;
  padding: 14px;
  font-size: 1rem;
  color: #f1f5f9;
  margin-bottom: 20px;
}

button {
  width: 100%;
  padding: 18px;
  border: none;
  border-radius: 14px;
  font-weight: 900;
  font-size: 1.1rem;
  cursor: pointer;
  transition: 0.2s;
}

.btn-start {
  background: linear-gradient(to right, #2563eb, #3b82f6);
  color: white;
  box-shadow: 0 0 20px rgba(59,130,246,0.6);
}

.btn-start:hover { transform: scale(1.05); }

.btn-complete {
  background: linear-gradient(to right, #059669, #10b981);
  color: white;
  box-shadow: 0 0 20px rgba(16,185,129,0.6);
}

.btn-complete:hover { transform: scale(1.05); }

.progress-track {
  width: 100%;
  height: 12px;
  background: #334155;
  border-radius: 9999px;
  margin: 20px 0;
  overflow: hidden;
}

.progress-fill {
  height: 100%;
  background: linear-gradient(to right, #2563eb, #22d3ee);
  transition: width 0.4s ease;
}

.step-text {
  font-size: 1.4rem;
  font-weight: 900;
  margin: 30px 0;
}

.complete-emoji {
  font-size: 5rem;
  animation: float 3s ease-in-out infinite;
}

@keyframes float {
  0%,100% { transform: translateY(0); }
  50% { transform: translateY(-12px); }
}

/* ãƒ‘ãƒ¼ãƒ†ã‚£ã‚¯ãƒ« */
.particle {
  position: fixed;
  border-radius: 50%;
  pointer-events: none;
  animation: explode 900ms ease-out forwards;
}

@keyframes explode {
  0% { transform: translate(0,0) scale(1); opacity:1; }
  100% { transform: translate(var(--x), var(--y)) scale(0); opacity:0; }
}
</style>
</head>
<body>

<div id="app">

<div id="input-screen">
  <h1 class="main-title">ğŸ’¥ Task Crusher</h1>
  <p class="subtitle">ã‚¿ã‚¹ã‚¯ã‚’æ¥µå°ã‚¹ãƒ†ãƒƒãƒ—ã«ç²‰ç •ã™ã‚‹</p>

  <select id="task-select">
    <option value="">ã‚¿ã‚¹ã‚¯ã‚’é¸ã‚“ã§ãã ã•ã„...</option>
    <option value="cleaning">ğŸ§¹ æƒé™¤</option>
    <option value="email">ğŸ“§ ãƒ¡ãƒ¼ãƒ«</option>
  </select>

  <button id="start-btn" class="btn-start">âš¡ åˆ†è§£é–‹å§‹</button>
</div>

<div id="exec-screen" class="hidden">
  <div class="progress-track">
    <div id="progress-bar" class="progress-fill"></div>
  </div>
  <div id="step-text" class="step-text"></div>
  <button id="complete-btn" class="btn-complete">âœ… å®Œäº†ï¼</button>
</div>

<div id="complete-screen" class="hidden">
  <div class="complete-emoji">ğŸ‰</div>
  <h2>ãŠç–²ã‚Œæ§˜ï¼</h2>
  <button onclick="location.reload()" class="btn-start">ğŸ”„ ã‚‚ã†ä¸€åº¦</button>
</div>

</div>

<script>
const tasks = {
  cleaning: ["ç«‹ã¡ä¸ŠãŒã‚‹","æœºã‚’ç‰‡ä»˜ã‘ã‚‹","æœºã‚’æ‹­ã","ã‚´ãƒŸã‚’æ¨ã¦ã‚‹"],
  email: ["ãƒ¡ãƒ¼ãƒ«ã‚’é–‹ã","ä»¶åã‚’æ›¸ã","æœ¬æ–‡ã‚’æ›¸ã","é€ä¿¡ã™ã‚‹"]
};

let currentSteps = [];
let stepIndex = 0;

const inputScreen = document.getElementById("input-screen");
const execScreen = document.getElementById("exec-screen");
const completeScreen = document.getElementById("complete-screen");
const progressBar = document.getElementById("progress-bar");
const stepText = document.getElementById("step-text");

document.getElementById("start-btn").onclick = () => {
  const val = document.getElementById("task-select").value;
  if(!val) return;
  currentSteps = tasks[val];
  stepIndex = 0;
  inputScreen.classList.add("hidden");
  execScreen.classList.remove("hidden");
  showStep();
};

document.getElementById("complete-btn").onclick = () => {
  createParticles();
  stepIndex++;
  if(stepIndex >= currentSteps.length){
    execScreen.classList.add("hidden");
    completeScreen.classList.remove("hidden");
    setInterval(createParticles, 800);
  } else {
    showStep();
  }
};

function showStep(){
  stepText.textContent = currentSteps[stepIndex];
  progressBar.style.width = ((stepIndex/currentSteps.length)*100) + "%";
}

function createParticles(){
  const colors = ["#60a5fa","#22d3ee","#34d399","#fbbf24","#ffffff"];
  for(let i=0;i<35;i++){
    const p = document.createElement("div");
    p.className = "particle";
    const size = Math.random()*8+4;
    p.style.width = size+"px";
    p.style.height = size+"px";
    p.style.background = colors[Math.floor(Math.random()*colors.length)];
    p.style.left = "50%";
    p.style.top = "50%";
    const angle = Math.random()*2*Math.PI;
    const distance = Math.random()*160+60;
    p.style.setProperty("--x", Math.cos(angle)*distance+"px");
    p.style.setProperty("--y", Math.sin(angle)*distance+"px");
    document.body.appendChild(p);
    setTimeout(()=>p.remove(),900);
  }
}
</script>

</body>
</html>
